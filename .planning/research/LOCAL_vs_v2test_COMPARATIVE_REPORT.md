# Comparative Report — Local Framework vs. `japperJ/v2test` (master)

**Date:** 2026-02-19  
**Scope:** Investigate and compare (1) this workspace (`JP Dynamic Agent System (v2)`) and (2) the public GitHub repo `japperJ/v2test` (default branch `master`) with respect to:
- agent/skill structure (`.github/agents/**`, `.github/skills/**`)
- controlled self-extension governance (`.planning/extensions/**`)
- the *trigger* and *end-to-end* extension creation loop (EDR → gates → approval → create → register → wire → verify)
- any gaps/bugs vs “skipped” artifacts

---

## 1) Executive Summary

Both codebases implement the **same governed “self-extension” mechanism**:
- Extensions are **not** generated by a script; they are introduced via a **procedural governance loop** captured in markdown artifacts.
- The loop is anchored by:
  - EDRs under `.planning/extensions/edr/`
  - an extensions registry `.planning/extensions/REGISTRY.yaml`
  - decision gates `.planning/extensions/DECISION_RULES.md`
  - a wiring definition `.planning/extensions/WIRING_CONTRACT.md`
  - two bootstrap skills: `extension-coordinator` and `extension-verifier`

The earlier “missing artifacts” risk for `v2test` was **not a broken creation flow**—it was a **branch mismatch** (requests were initially made against `main` while the repo’s default branch is `master`). Re-checking `master` confirms the governance and skills are present.

Local framework state indicates **Phase 4 complete** with integration verification recorded in `.planning/INTEGRATION.md`. `v2test` state indicates the agent system is embedded in an application repo (“Geo-Fenced Multi-Site Webserver”), with its own `.planning/geo/` project.

---

## 2) What “extension creation” actually is (in both repos)

### Key finding
There is **no executable “create skill/agent” generator**. The “creation logic” is:
- **templates + rules** in `.planning/extensions/**`
- **skills** that provide *invocable runbooks*:
  - `extension-coordinator`: governs proposing/creating extensions
  - `extension-verifier`: governs verifying extensions
- **agent-file wiring blocks** (Option B) and/or **plan references** (Option A)

### The governed lifecycle
The intended loop is:
1. An agent detects a repeatable workflow gap.
2. Orchestrator forces routing through governance:
   - draft EDR (proposed)
   - apply gates A–D (DECISION_RULES)
   - obtain approval checkpoint
3. Only then: create skill/agent, register it, wire it, verify it.

---

## 3) Local workspace: evidence and “what’s true”

### 3.1 Current project position
Local `.planning/STATE.md` claims:
- **Phase: 4**
- **Status: Complete**
- Checkpoints include:
  - Option B wiring decision for coordinator
  - approval for EDR-0002 verifier skill

### 3.2 Registry + EDRs
Local `.planning/extensions/REGISTRY.yaml` contains **two active skills**:
- `ext-skill-extension-coordinator` (wiring targets: Orchestrator, Researcher, Planner, Coder)
- `ext-skill-extension-verifier` (wiring targets: Verifier, Orchestrator)

Local EDRs exist and are **approved**:
- `.planning/extensions/edr/EDR-20260218-0001-extension-coordinator.md` → declares **Option B** wiring (agent-file additive blocks)
- `.planning/extensions/edr/EDR-20260218-0002-extension-verifier.md` → declares **Option A** wiring (plan-driven)

### 3.3 Integration verification artifact
Local `.planning/INTEGRATION.md` is a detailed cross-phase verification report with:
- requirements coverage matrix
- wiring evidence (Layer 1 registry + Layer 2 operational)
- additive-only checks and P0 smoke checks
- advisory gap notes (not blockers)

### 3.4 Baseline anchors
Local `.planning/baseline/P0_INVARIANTS.yaml` defines “P0 must remain true” anchors (agent delegation contract, verifier independence, etc.).
Local `.planning/baseline/P0_SMOKE_CHECKS.md` defines commands to spot-check those anchors.

---

## 4) `japperJ/v2test` (master): evidence and “what’s true”

### 4.1 State file confirms roster + active extensions
`v2test` `.planning/STATE.md` confirms:
- 7 agents active
- the same two bootstrap skills are **active** in its “Extension Registry” table
- current phase = “Phase 3 — Ongoing” (for that repo’s planning lifecycle)

### 4.2 Orchestrator contains explicit “Extension Detection” enforcement
`v2test` `.github/agents/orchestrator.agent.md` includes an **append-only** section:
- `## Extension Detection (additive — do not modify existing behavior)`
- it explicitly forbids creating skills/agents without an EDR and routes through the governed flow
- it references `@.github/skills/extension-coordinator/SKILL.md`

### 4.3 Governance docs align with local
Raw fetch confirms:
- `.planning/extensions/DECISION_RULES.md` with Gate A–D definitions and links to VS Code customization docs
- `.planning/extensions/WIRING_CONTRACT.md` defining Layer 1 (registry) + Layer 2 (Option A / Option B) wiring
- `.planning/extensions/REGISTRY.yaml` contains the two active skill entries, same as local

### 4.4 Confirmed absence of `.github/copilot-instructions.md`
Fetching `https://raw.githubusercontent.com/japperJ/v2test/master/.github/copilot-instructions.md` returns **404** (file not present).

---

## 5) Local vs `v2test`: similarities and differences

### Same core governance mechanism
Both repos share:
- EDR-first extension creation (`.planning/extensions/edr/` + `EDR_TEMPLATE.md` implied by EDRs)
- registry as canonical source of truth (`REGISTRY.yaml`)
- explicit Gate A–D decision logic (`DECISION_RULES.md`)
- wiring contract with Option A/Option B (`WIRING_CONTRACT.md`)
- bootstrap skills (`extension-coordinator`, `extension-verifier`)

### Key differences (context, not mechanism)
- **Local workspace** is a governance/framework repo whose `.planning/STATE.md` says Phase 4 complete.
- **`v2test`** is an application repo that embeds the framework and tracks a specific active project under `.planning/geo/`.

---

## 6) “Skipped vs broken” assessment

### Conclusion: not broken
The earlier appearance of missing artifacts in `v2test` was explained by targeting the wrong branch (`main` vs `master`). On `master`, the expected governance and skill artifacts are present.

### What could still be a genuine gap
Within the local framework itself, `.planning/INTEGRATION.md` calls out an **advisory** wiring nuance:
- `extension-verifier` is declared as wired to Orchestrator in Layer 1 (registry), but operational Layer 2 evidence may be plan-scoped (Option A) rather than persistent Orchestrator agent-file wiring.
This is recorded as non-blocking in the integration verification.

---

## 7) Sources (high confidence)

### Local workspace (this repo)
- `.planning/STATE.md`
- `.planning/ROADMAP.md`
- `.planning/INTEGRATION.md`
- `.planning/extensions/REGISTRY.yaml`
- `.planning/extensions/edr/EDR-20260218-0001-extension-coordinator.md`
- `.planning/extensions/edr/EDR-20260218-0002-extension-verifier.md`
- `.planning/baseline/P0_INVARIANTS.yaml`
- `.planning/baseline/P0_SMOKE_CHECKS.md`

### Remote repo (`japperJ/v2test`, branch `master`)
- https://raw.githubusercontent.com/japperJ/v2test/master/.planning/STATE.md
- https://raw.githubusercontent.com/japperJ/v2test/master/.planning/extensions/REGISTRY.yaml
- https://raw.githubusercontent.com/japperJ/v2test/master/.planning/extensions/DECISION_RULES.md
- https://raw.githubusercontent.com/japperJ/v2test/master/.planning/extensions/WIRING_CONTRACT.md
- https://raw.githubusercontent.com/japperJ/v2test/master/.github/agents/orchestrator.agent.md
- https://raw.githubusercontent.com/japperJ/v2test/master/.github/skills/extension-coordinator/SKILL.md
- https://raw.githubusercontent.com/japperJ/v2test/master/.github/skills/extension-verifier/SKILL.md
- (absence confirmed) https://raw.githubusercontent.com/japperJ/v2test/master/.github/copilot-instructions.md (404)
